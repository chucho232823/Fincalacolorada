<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Reservas del Evento</title>
  <link rel="stylesheet" href="/css/lista.css"> <!-- Asumiendo que servirÃ¡s este CSS -->
</head>
<body>
  <h1>Reservas - <%= nombreEvento %></h1>

  <% if (reservas.length === 0) { %>
    <p>No hay reservas para este evento.</p>
  <% } else { %>
    <span style="font-weight: bold;">Da click sobre el Ã­cono de boletos ğŸŸï¸ para mÃ¡s informaciÃ³n</span>
    <table>
      <thead>
        <tr>
          <th>Nombre</th>
          <th>TelÃ©fono</th>
          <th>Boletos</th>
          <th>Pago</th>
          <th>Estado</th>
          <th>CÃ³digo</th>
          <th>Descargar Boleto</th>
        </tr>
      </thead>
      <tbody>
        <% reservas.forEach(r => { %>
          <tr>
            <td><%= r.nombre %></td>
            <td><%= r.telefono %></td>
            <td><%= r.boletos %> <span class="ver" id = "<%= r.codigo %>">ğŸŸï¸</span>
                <% if(r.juntar != "") {%>
                  <span>
                    Juntar
                  </span>
                <% } %>
            </td>
            <td><%= r.tipoPago %></td>
            <td><%= r.estado %></td>
            <td><%= r.codigo %></td>
            <td><span class="descargar" id = "<%= r.codigo %>" >ğŸŸï¸</span></td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  <% } %>

  <div class="botones">
    <span id="volver">VOLVER</span>
    <button class="btn-excel" onclick="generarExcel()">DESCARGAR EXCEL</button>
  </div>
  


  <div id="boletoModal" style="display:none; position:fixed; top:20%; left:50%; transform:translateX(-50%);
                             background:white; padding:20px; border:1px solid #ccc; z-index:1000; width:300px;">
      <h3>InformaciÃ³n del Boleto</h3>
      <div id="contenidoBoleto"></div>
      <button onclick="cerrarModal()">Cerrar</button>
  </div>

  <script>
    const reservas = <%- JSON.stringify(reservas) %>;
    const nombreEvento = "<%= nombreEvento %>";
    const idEvento = "<%= idEvento %>";
    console.log(reservas);
  </script>
  <script src="/js/lista.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>
  
</body>
</html>


